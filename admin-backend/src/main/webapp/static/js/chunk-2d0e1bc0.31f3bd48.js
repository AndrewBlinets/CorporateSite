(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e1bc0"],{"7c64":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[e._m(0),a("div",{staticClass:"button-container"},[a("el-button",{attrs:{type:"success",icon:"el-icon-plus"},on:{click:function(t){return e.$router.push({name:"create-news"})}}},[e._v("Создать")])],1),a("div",{staticClass:"table-container mb-1"},[a("el-table",{ref:"multipleTable",attrs:{data:e.newsList,"row-class-name":e.tableRowClassName,border:""},on:{"sort-change":e.tableSortProp}},[a("el-table-column",{attrs:{type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"shortTitle",label:"Название"}}),a("el-table-column",{attrs:{prop:"dti",label:"Дата создания",width:"115","label-class-name":"date",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDate")(t.row.dti)))]}}])}),a("el-table-column",{attrs:{prop:"datePublic",label:"Дата публикации",width:"130","label-class-name":"date",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDate")(t.row.datePublic)))]}}])}),a("el-table-column",{attrs:{label:"Статус",width:"155"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("pluralizationStatus")(t.row.status)))]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"Операции",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"medium",icon:"el-icon-edit"},on:{click:function(a){return e.$router.push({name:"news-id",params:{id:t.row.id}})}}}),a("el-button",{attrs:{size:"medium",icon:"el-icon-delete",type:"danger"},on:{click:function(a){return e.deleteRow(t.row.id)}}})]}}])})],1)],1),a("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.tableSizeChange,"current-change":e.tableCurrentChange,"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t}}})],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("h1",[e._v("Новости")])])}],o=(a("99af"),a("ac1f"),a("5319"),a("5530")),r=a("4360"),i=a("2f62"),c={name:"News",computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(i["d"])({size:function(e){return e.news.params.size}})),Object(i["c"])({newsList:"news/newsListData",total:"news/newsListTotal"})),{},{page:{get:function(){return r["a"].state.news.params.page+1},set:function(e){r["a"].commit("news/ADD_PARAMS",{page:e-1})}}}),beforeRouteEnter:function(e,t,a){r["a"].dispatch("news/getNewsList").then((function(){a()}))},methods:Object(o["a"])(Object(o["a"])({},Object(i["b"])({deleteNews:"news/deleteNews"})),{},{indexMethod:function(e){return e+1+r["a"].state.news.params.page*this.size},tableSizeChange:function(e){r["a"].dispatch("news/getNewsList",{size:e})},tableCurrentChange:function(e){r["a"].dispatch("news/getNewsList",{page:e-1})},tableRowClassName:function(e){var t=e.row;return 2===t.status?"brand-row":3===t.status?"warning-row":4===t.status?"error-row":""},tableSortProp:function(e){if(e.order){var t=e.order.replace("ending","");r["a"].commit("news/ADD_PARAMS",{sort:"".concat(e.prop,",").concat(t),page:0}),r["a"].dispatch("news/getNewsList")}else r["a"].commit("news/REMOVE_PARAMS","sort"),r["a"].dispatch("news/getNewsList",{page:0})},deleteRow:function(e){var t=this;this.$confirm("Вы точно хотите удалить?",{confirmButtonText:"Подтвердить",cancelButtonText:"Отменить",type:"warning"}).then((function(){t.deleteNews(e).then((function(){t.$message({type:"success",message:"Запись удалина"})}))})).catch((function(){t.$message({type:"info",message:"Удаление отменено"})}))}})},l=c,u=a("2877"),d=Object(u["a"])(l,n,s,!1,null,"43ab6c50",null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0e1bc0.31f3bd48.js.map